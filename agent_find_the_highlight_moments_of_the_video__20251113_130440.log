2025-11-13 13:04:40 - INFO - ================================================================================
2025-11-13 13:04:40 - INFO - VIDSOR: Orchestrator Query Processing
2025-11-13 13:04:40 - INFO - ================================================================================
2025-11-13 13:04:40 - INFO - Query: find the highlight moments of the video.
2025-11-13 13:04:40 - INFO - Log file: C:\Users\Khage\Data\logs\agent_find_the_highlight_moments_of_the_video__20251113_130440.log
2025-11-13 13:04:40 - INFO - Project: C:\Users\Khage\Data\projects\bg
2025-11-13 13:04:40 - INFO - Video: C:\Users\Khage\Data\projects\bg\video\pegblog_10min.mp4
2025-11-13 13:04:40 - INFO - Segment tree: C:\Users\Khage\Data\projects\bg\segment_tree.json
2025-11-13 13:04:40 - INFO - Timeline path: C:\Users\Khage\Data\projects\bg\timeline.json
2025-11-13 13:04:40 - INFO - Timeline.json is empty - starting with empty timeline
2025-11-13 13:04:40 - INFO - 
--------------------------------------------------------------------------------
2025-11-13 13:04:40 - INFO - CALLING ORCHESTRATOR
2025-11-13 13:04:40 - INFO - --------------------------------------------------------------------------------
2025-11-13 13:04:40 - INFO - 
================================================================================
2025-11-13 13:04:40 - INFO - ORCHESTRATOR AGENT RUNNER
2025-11-13 13:04:40 - INFO - ================================================================================
2025-11-13 13:04:40 - INFO - Query: find the highlight moments of the video.
2025-11-13 13:04:40 - INFO - Timeline: C:\Users\Khage\Data\projects\bg\timeline.json
2025-11-13 13:04:40 - INFO - Segment Tree: C:\Users\Khage\Data\projects\bg\segment_tree.json
2025-11-13 13:04:40 - INFO - Video: C:\Users\Khage\Data\projects\bg\video\pegblog_10min.mp4
2025-11-13 13:04:40 - INFO - [LOADING] Loading segment tree...
2025-11-13 13:04:40 - INFO -   ✓ Segment tree loaded
2025-11-13 13:04:41 - INFO - 
[EXECUTING] Running orchestrator agent...
2025-11-13 13:04:41 - INFO - 
================================================================================
2025-11-13 13:04:41 - INFO - ORCHESTRATOR AGENT: Timeline Management
2025-11-13 13:04:41 - INFO - ================================================================================
2025-11-13 13:04:41 - INFO - Query: find the highlight moments of the video.
2025-11-13 13:04:41 - INFO - Timeline path: C:\Users\Khage\Data\projects\bg\timeline.json
2025-11-13 13:04:41 - INFO - Timeline loaded: 0 chunks, 0.00s duration
2025-11-13 13:04:50 - INFO - 
[OPERATION CLASSIFICATION]
2025-11-13 13:04:50 - INFO -   Operation: FIND_HIGHLIGHTS
2025-11-13 13:04:50 - INFO -   Confidence: 1.00
2025-11-13 13:04:50 - INFO -   Parameters: {'timeline_indices': [], 'insert_position': None, 'insert_before_index': None, 'insert_after_index': None, 'insert_between_indices': [], 'search_query': None, 'temporal_constraint': None, 'temporal_type': None, 'reorder_from_index': None, 'reorder_to_index': None, 'trim_index': None, 'trim_seconds': None, 'trim_from': None, 'effect_type': None, 'effect_object': None, 'effect_duration': None}
2025-11-13 13:04:50 - INFO - [SELF-CORRECTION] Enabled for FIND_HIGHLIGHTS
2025-11-13 13:04:50 - INFO - 
[SELF-CORRECTION] Starting self-correction loop (max 3 iterations)
2025-11-13 13:04:50 - INFO - 
[SELF-CORRECTION] Iteration 1/3
2025-11-13 13:04:50 - INFO - 
[OPERATION] FIND_HIGHLIGHTS
2025-11-13 13:04:50 - INFO -   Calling planner agent to find highlights...
2025-11-13 13:04:50 - INFO - 
============================================================
2025-11-13 13:04:50 - INFO - PLANNER AGENT: Multi-Modal Search Strategy
2025-11-13 13:04:50 - INFO - ============================================================
2025-11-13 13:04:50 - INFO - Query: find the highlight moments of the video.
2025-11-13 13:04:50 - INFO - 
[INSPECTION] Inspecting segment tree to understand video content...
2025-11-13 13:04:50 - INFO -   Found 100 unique keywords
2025-11-13 13:04:50 - INFO -   Found 33 object classes
2025-11-13 13:04:50 - INFO -   Sample keywords: 0x000001a02f82c070, 0x000001a02f82cb80, 0x000001a02f82d210, 0x000001a02f82d2a0, 0x000001a02f82d2d0, 0x000001a02f82d360, 0x000001a02f82d930, 0x000001a02f82da20, 0x000001a02f82dd20, 0x000001a02f82de40, 0x000001a02f82dfc0, 0x000001a02f82e080, 0x000001a02f82e110, 0x000001a02f82e1d0, 0x000001a02f82e200...
2025-11-13 13:04:50 - INFO -   Sample descriptions: 20 total (12 visual, 8 audio)
2025-11-13 13:04:50 - INFO -   Sample descriptions (full, sorted chronologically):
2025-11-13 13:04:50 - INFO -     1. [0.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94F010>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 2, Groups: 6
2025-11-13 13:04:50 - INFO -     2. [0.0s] [AUDIO] How are we late to giving birth?
2025-11-13 13:04:50 - INFO -     3. [8.0s] [AUDIO] minutes late to our induction but it's okay because it's really at 9 o'clock they just said
2025-11-13 13:04:50 - INFO -     4. [30.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F980EB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 5, Groups: 6
2025-11-13 13:04:50 - INFO -     5. [32.0s] [AUDIO] and we're just gonna pull up to the hospital and just get settled into our room.
2025-11-13 13:04:50 - INFO -     6. [48.0s] [AUDIO] night because obviously I know I was going to get birth today or the next day.
2025-11-13 13:04:50 - INFO -     7. [60.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94F430>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 5, Groups: 6
2025-11-13 13:04:50 - INFO -     8. [90.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94C790>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:04:50 - INFO -     9. [212.0s] [AUDIO] I would say the most scariest part about the induction.
2025-11-13 13:04:50 - INFO -     10. [216.0s] [AUDIO] the induction, or the most nerve-wracking part is like the unknown of not knowing how long
2025-11-13 13:04:50 - INFO -     11. [240.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85E380>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 6, Groups: 6
2025-11-13 13:04:50 - INFO -     12. [270.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85EBC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:04:50 - INFO -     13. [296.0s] [AUDIO] I got some medical rape pumps on the way my gold spectra. We're really gonna show you.
2025-11-13 13:04:50 - INFO -     14. [300.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F907190>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:04:50 - INFO -     15. [316.0s] [AUDIO] Do you want me to record when you're crying? Yes. I'm giving birth.
2025-11-13 13:04:50 - INFO -     16. [330.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85D450>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:04:50 - INFO -     17. [480.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:04:50 - INFO -     18. [510.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:04:50 - INFO -     19. [540.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:04:50 - INFO -     20. [570.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:04:50 - INFO -   Inspection completed in 0.00s
2025-11-13 13:04:50 - INFO - 
[NARRATION] Creating video narrative understanding...
2025-11-13 13:04:58 - INFO -   Video theme: hospital induction for childbirth
2025-11-13 13:04:58 - INFO -   Narrative summary: The video captures the journey to the hospital for childbirth induction, highlighting the feelings o...
2025-11-13 13:04:58 - INFO -   Narrative structure:
2025-11-13 13:04:58 - INFO -     INTRO: 0x000001a02f82d210, 0x000001a02f82d2a0
2025-11-13 13:04:58 - INFO -     BODY: 0x000001a02f82d2d0, 0x000001a02f82d360
2025-11-13 13:04:58 - INFO -     ENDING: 0x000001a02f82e200, 0x000001a02f82e590
2025-11-13 13:04:58 - INFO -   Highlight keywords: 0x000001a02f82e650, 0x000001a02f82e890
2025-11-13 13:04:58 - INFO -   Narrative creation completed in 8.56s
2025-11-13 13:04:58 - INFO - 
[PARALLEL LLM] Starting parallel query generation and semantic analysis...
2025-11-13 13:05:04 - DEBUG - [LLM RESPONSE - Query Gen] ```json
{
    "semantic_queries": [
        "discussion about being late for hospital induction",
        "arriving at the hospital and settling into the room",
        "reflections on the scariest aspects of the induction",
        "feelings of anticipation and anxiety about the induction process",...
2025-11-13 13:05:04 - INFO - [PARALLEL LLM] Both calls completed in 6.09s (parallel execution)
2025-11-13 13:05:04 - INFO - 
[SEARCH PLAN] Generated search queries:
2025-11-13 13:05:04 - INFO -   [INSPECTION] Used segment tree inspection: Yes
2025-11-13 13:05:04 - INFO -   Semantic queries: ['discussion about being late for hospital induction', 'arriving at the hospital and settling into the room', 'reflections on the scariest aspects of the induction', 'feelings of anticipation and anxiety about the induction process', 'unknown aspects of the induction experience', 'person discussing feelings about being late']
2025-11-13 13:05:04 - INFO -   Hierarchical keywords: ['hospital', 'induction', 'late', 'arrival', 'settling', 'anxiety', 'scary', 'unknown']
2025-11-13 13:05:04 - INFO -   Object classes: ['bed', 'chair', 'clock']
2025-11-13 13:05:04 - INFO -   Activity: hospital induction
2025-11-13 13:05:04 - INFO -   Is general highlight query: True
2025-11-13 13:05:04 - INFO - 
[AGENTIC] Phase 1: Semantic Query Analysis (completed in parallel):
2025-11-13 13:05:04 - INFO -   Query type: AGGREGATE
2025-11-13 13:05:04 - INFO -   Search intent: semantic
2025-11-13 13:05:04 - INFO -   Target entities: {'objects': [], 'activities': [], 'concepts': ['highlight moments']}
2025-11-13 13:05:04 - INFO -   Special handling: {'negation': False, 'temporal': False, 'conditional': False, 'counting': False}
2025-11-13 13:05:04 - INFO -   Reasoning: The query seeks to find significant or noteworthy moments in the video, which aligns with a semantic search for highlights rather than specific objects or activities. There are no explicit constraints or conditions mentioned.
2025-11-13 13:05:04 - INFO - 
[AGENTIC] Phase 2: Dynamic Strategy Planning...
2025-11-13 13:05:10 - INFO -   Strategy operations: 1
2025-11-13 13:05:10 - INFO -   Post-processing: ['rank_by_relevance']
2025-11-13 13:05:10 - INFO -   Reasoning: This strategy focuses solely on semantic search to find moments that are highlighted, as the query does not require object or activity detection. The emphasis on ranking by relevance ensures that the most pertinent moments are prioritized.
2025-11-13 13:05:10 - INFO -   Strategy planning completed in 5.74s
2025-11-13 13:05:10 - INFO - 
[VALIDATION] Cross-validating with search plan...
2025-11-13 13:05:10 - INFO - 
[WEIGHT CONFIGURATION]
2025-11-13 13:05:10 - INFO -   Semantic weight: 0.50
2025-11-13 13:05:10 - INFO -   Activity weight: 0.00
2025-11-13 13:05:10 - INFO -   Hierarchical weight: 0.00
2025-11-13 13:05:10 - INFO -   Threshold: 0.50
2025-11-13 13:05:10 - INFO - 
[STEP 2] Executing search with hierarchical tree + semantic search...
2025-11-13 13:05:10 - INFO - [PARALLEL SEARCH] Running all search types in parallel for better performance...
2025-11-13 13:05:10 - INFO - 
  [SEARCH TYPE: General Highlights (Hierarchical Tree)]
2025-11-13 13:05:10 - INFO -       Found 20 highlight candidates
2025-11-13 13:05:10 - INFO - 
  [SEARCH TYPE: Hierarchical Tree (Fast Keyword Lookup)]
2025-11-13 13:05:10 - INFO - 
  [SEARCH TYPE: Semantic Search (Visual + Audio)]
2025-11-13 13:05:10 - INFO -     Keyword: 'hospital'
2025-11-13 13:05:10 - INFO -     Query: 'discussion about being late for hospital induction'
2025-11-13 13:05:10 - INFO -       Found 5 leaf node matches
2025-11-13 13:05:10 - INFO - 
  [SEARCH TYPE: Object Detection (YOLO)]
2025-11-13 13:05:10 - INFO -     Keyword: 'induction'
2025-11-13 13:05:10 - INFO -     Class: 'bed'
2025-11-13 13:05:10 - INFO -       Found 5 leaf node matches
2025-11-13 13:05:10 - INFO - 
  [SEARCH TYPE: Activity Pattern Matching]
2025-11-13 13:05:10 - INFO -       Found 498 detections
2025-11-13 13:05:10 - INFO -     Keyword: 'late'
2025-11-13 13:05:10 - INFO -     Activity: hospital induction
2025-11-13 13:05:10 - INFO -     Class: 'chair'
2025-11-13 13:05:10 - INFO -       Found 3 leaf node matches
2025-11-13 13:05:10 - INFO -       Evidence scenes before validation: 0
2025-11-13 13:05:10 - INFO -       Found 615 detections
2025-11-13 13:05:10 - INFO -     Keyword: 'arrival'
2025-11-13 13:05:10 - INFO -       Evidence scenes after validation: 0
2025-11-13 13:05:10 - INFO -     Class: 'clock'
2025-11-13 13:05:10 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:10 - INFO -       Found 2 detections
2025-11-13 13:05:10 - INFO -     Keyword: 'settling'
2025-11-13 13:05:10 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:10 - INFO -     Keyword: 'anxiety'
2025-11-13 13:05:10 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:10 - INFO -     Keyword: 'scary'
2025-11-13 13:05:10 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:10 - INFO -     Keyword: 'unknown'
2025-11-13 13:05:10 - INFO -       Found 2 leaf node matches
2025-11-13 13:05:13 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:13 - INFO -       Final: 15 matches (took 3.02s, optimized single call)
2025-11-13 13:05:13 - INFO -     Query: 'arriving at the hospital and settling into the room'
2025-11-13 13:05:13 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:13 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:13 - INFO -     Query: 'reflections on the scariest aspects of the induction'
2025-11-13 13:05:13 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:13 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:13 - INFO -     Query: 'feelings of anticipation and anxiety about the induction process'
2025-11-13 13:05:13 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:13 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:13 - INFO -     Query: 'unknown aspects of the induction experience'
2025-11-13 13:05:13 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:13 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:13 - INFO -     Query: 'person discussing feelings about being late'
2025-11-13 13:05:13 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:13 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:13 - INFO - 
[PARALLEL SEARCH] All searches completed in 3.17s (parallel execution)
2025-11-13 13:05:13 - INFO - [AGGREGATION] Collected results from all search types:
2025-11-13 13:05:13 - INFO -   Total results: 1241
2025-11-13 13:05:13 - INFO - 
[STEP 3] Scoring all seconds with weighted features...
2025-11-13 13:05:13 - INFO -   Total seconds to score: 600
2025-11-13 13:05:13 - INFO - [STEP 3] Scoring completed in 0.19s
2025-11-13 13:05:13 - INFO - 
[ADAPTIVE THRESHOLD] Score distribution analysis:
2025-11-13 13:05:13 - INFO -   Total seconds scored: 600
2025-11-13 13:05:13 - INFO -   Target: top 72 seconds (12.0% of video)
2025-11-13 13:05:13 - INFO -   Score range: 0.000 - 0.463
2025-11-13 13:05:13 - INFO -   Score at position 72: 0.350
2025-11-13 13:05:13 - INFO -   Using adaptive threshold: 0.350 (min from weights: 0.500)
2025-11-13 13:05:13 - INFO - 
[FILTERING] Filtered to 38 seconds above adaptive threshold 0.350
2025-11-13 13:05:13 - INFO -   Top 10 scored seconds:
2025-11-13 13:05:13 - INFO -     1. Second 33: score=0.463 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:13 - INFO -     2. Second 34: score=0.463 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:13 - INFO -     3. Second 35: score=0.463 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:13 - INFO -     4. Second 36: score=0.463 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:13 - INFO -     5. Second 37: score=0.463 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:13 - INFO -     6. Second 212: score=0.462 (sem=0.80, act=0.00, obj=0.27, hier=0.00)
2025-11-13 13:05:13 - INFO -     7. Second 217: score=0.462 (sem=0.80, act=0.00, obj=0.27, hier=0.00)
2025-11-13 13:05:13 - INFO -     8. Second 32: score=0.443 (sem=0.81, act=0.00, obj=0.17, hier=0.00)
2025-11-13 13:05:13 - INFO -     9. Second 213: score=0.441 (sem=0.80, act=0.00, obj=0.17, hier=0.00)
2025-11-13 13:05:13 - INFO -     10. Second 214: score=0.441 (sem=0.80, act=0.00, obj=0.03, hier=0.00)
2025-11-13 13:05:13 - INFO - 
[AGENTIC] Phase 3: Self-Validation...
2025-11-13 13:05:19 - INFO -   [VALIDATION] Issues detected: ['Results do not provide a clear summary or description of highlight moments; they only list timestamps without context.', 'The results lack diversity in content; they are too similar and do not cover different highlight moments.']
2025-11-13 13:05:19 - INFO -   [VALIDATION] Suggestions: ['Include descriptions or context for each highlight moment.', 'Provide a more varied set of highlights that cover different aspects of the video.']
2025-11-13 13:05:19 - INFO - 
[STEP 4] Selecting best highlights...
2025-11-13 13:05:19 - INFO -   Selected 38 best seconds (from 38 above threshold)
2025-11-13 13:05:19 - INFO -   Top 10 selected seconds:
2025-11-13 13:05:19 - INFO -     1. Second 33 (33.0s): score=0.463 (sem=0.81)
2025-11-13 13:05:19 - INFO -     2. Second 34 (34.0s): score=0.463 (sem=0.81)
2025-11-13 13:05:19 - INFO -     3. Second 35 (35.0s): score=0.463 (sem=0.81)
2025-11-13 13:05:19 - INFO -     4. Second 36 (36.0s): score=0.463 (sem=0.81)
2025-11-13 13:05:19 - INFO -     5. Second 37 (37.0s): score=0.463 (sem=0.81)
2025-11-13 13:05:19 - INFO -     6. Second 212 (212.0s): score=0.462 (sem=0.80)
2025-11-13 13:05:19 - INFO -     7. Second 217 (217.0s): score=0.462 (sem=0.80)
2025-11-13 13:05:19 - INFO -     8. Second 32 (32.0s): score=0.443 (sem=0.81)
2025-11-13 13:05:19 - INFO -     9. Second 213 (213.0s): score=0.441 (sem=0.80)
2025-11-13 13:05:19 - INFO -     10. Second 214 (214.0s): score=0.441 (sem=0.80)
2025-11-13 13:05:19 - INFO - 
[SELECTION] User intent detection:
2025-11-13 13:05:19 - INFO -   Multiple indicators: True
2025-11-13 13:05:19 - INFO -   Single indicators: False
2025-11-13 13:05:19 - INFO -   Plural 'moments': True
2025-11-13 13:05:19 - INFO -   Singular 'moment': False
2025-11-13 13:05:19 - INFO -   Decision: MULTIPLE results (multiple indicator detected)
2025-11-13 13:05:19 - INFO -   [ACTION] Returning all 38 time ranges
2025-11-13 13:05:19 - INFO - 
[FINAL SELECTION]
2025-11-13 13:05:19 - INFO -   Selected 38 time range(s)
2025-11-13 13:05:19 - INFO -   Confidence: 0.46
2025-11-13 13:05:19 - INFO -   Time ranges:
2025-11-13 13:05:19 - INFO -     1. 33.00s - 34.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     2. 34.00s - 35.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     3. 35.00s - 36.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     4. 36.00s - 37.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     5. 37.00s - 38.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     6. 212.00s - 213.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     7. 217.00s - 218.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     8. 32.00s - 33.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     9. 213.00s - 214.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     10. 214.00s - 215.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     11. 215.00s - 216.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     12. 216.00s - 217.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     13. 218.00s - 219.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     14. 219.00s - 220.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     15. 220.00s - 221.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     16. 221.00s - 222.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     17. 0.00s - 1.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     18. 1.00s - 2.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     19. 2.00s - 3.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     20. 3.00s - 4.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     21. 4.00s - 5.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     22. 5.00s - 6.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     23. 6.00s - 7.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     24. 7.00s - 8.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     25. 8.00s - 9.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     26. 9.00s - 10.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     27. 156.00s - 157.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     28. 157.00s - 158.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     29. 288.00s - 289.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     30. 290.00s - 291.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     31. 291.00s - 292.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     32. 292.00s - 293.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     33. 252.00s - 253.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     34. 253.00s - 254.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     35. 254.00s - 255.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     36. 255.00s - 256.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     37. 256.00s - 257.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO -     38. 257.00s - 258.00s (duration: 1.00s)
2025-11-13 13:05:19 - INFO - 
[CLARIFICATION DECISION] Found 38 results - asking LLM if clarification needed...
2025-11-13 13:05:19 - INFO -   Using video context: theme='hospital induction for childbirth', highlight keywords=['0x000001a02f82e650', '0x000001a02f82e890']
2025-11-13 13:05:21 - INFO -   LLM Decision: Proceed with all results (took 2.59s)
2025-11-13 13:05:21 - INFO -   Reasoning: The user is looking for highlight moments in a video about hospital induction for childbirth. Given the context, the 38 results likely include various significant moments related to the theme of anxiety and the journey to the hospital, which aligns with what the user is seeking.
2025-11-13 13:05:21 - INFO -   [SUCCESS] User wants all results - proceeding with 38 time range(s)
2025-11-13 13:05:21 - INFO - 
[MERGING] Merging 38 time ranges...
2025-11-13 13:05:21 - INFO -   Before merge: 38 ranges
2025-11-13 13:05:21 - INFO -   After merge: 7 non-overlapping ranges
2025-11-13 13:05:21 - INFO -   Merged ranges with 2.0s padding:
2025-11-13 13:05:21 - INFO -     Range 1: 0.00s - 11.00s (duration: 11.00s)
2025-11-13 13:05:21 - INFO -     Range 2: 31.00s - 39.00s (duration: 8.00s)
2025-11-13 13:05:21 - INFO -     Range 3: 155.00s - 159.00s (duration: 4.00s)
2025-11-13 13:05:21 - INFO -     Range 4: 211.00s - 223.00s (duration: 12.00s)
2025-11-13 13:05:21 - INFO -     Range 5: 251.00s - 259.00s (duration: 8.00s)
2025-11-13 13:05:21 - INFO -     Range 6: 287.00s - 290.00s (duration: 3.00s)
2025-11-13 13:05:21 - INFO -     Range 7: 289.00s - 294.00s (duration: 5.00s)
2025-11-13 13:05:21 - INFO -   Planner found 7 time ranges
2025-11-13 13:05:21 - INFO -   After merging: 6 time ranges
2025-11-13 13:05:21 - INFO -   Total highlight duration: 50.0s (8.3% of video)
2025-11-13 13:05:21 - INFO -     Created chunk 1: timeline 0.0s - 11.0s (source: 0.0s - 11.0s)
2025-11-13 13:05:21 - INFO -     Created chunk 2: timeline 11.0s - 19.0s (source: 31.0s - 39.0s)
2025-11-13 13:05:21 - INFO -     Created chunk 3: timeline 19.0s - 23.0s (source: 155.0s - 159.0s)
2025-11-13 13:05:21 - INFO -     Created chunk 4: timeline 23.0s - 35.0s (source: 211.0s - 223.0s)
2025-11-13 13:05:21 - INFO -     Created chunk 5: timeline 35.0s - 43.0s (source: 251.0s - 259.0s)
2025-11-13 13:05:21 - INFO -     Created chunk 6: timeline 43.0s - 50.0s (source: 287.0s - 294.0s)
2025-11-13 13:05:21 - INFO -   ✓ Created 6 highlight chunks
2025-11-13 13:05:27 - INFO -   Confidence: 0.70
2025-11-13 13:05:27 - INFO -   Valid: False
2025-11-13 13:05:33 - INFO -   → Refining parameters: The search query has been modified to focus on highlight significance, which will help in retrieving more contextually relevant highlights. The timeline indices have been set to include the first three segments to ensure coverage. The threshold is increased to 0.7 to filter out less significant highlights, and the max results are reduced to 10 to prioritize quality over quantity.
2025-11-13 13:05:33 - INFO - 
[SELF-CORRECTION] Iteration 2/3
2025-11-13 13:05:33 - INFO - 
[OPERATION] FIND_HIGHLIGHTS
2025-11-13 13:05:33 - INFO -   Calling planner agent to find highlights...
2025-11-13 13:05:33 - INFO - 
============================================================
2025-11-13 13:05:33 - INFO - PLANNER AGENT: Multi-Modal Search Strategy
2025-11-13 13:05:33 - INFO - ============================================================
2025-11-13 13:05:33 - INFO - Query: find the highlight moments of the video.
2025-11-13 13:05:33 - INFO - 
[INSPECTION] Inspecting segment tree to understand video content...
2025-11-13 13:05:33 - INFO -   Found 100 unique keywords
2025-11-13 13:05:33 - INFO -   Found 33 object classes
2025-11-13 13:05:33 - INFO -   Sample keywords: 0x000001a02f82c070, 0x000001a02f82cb80, 0x000001a02f82d210, 0x000001a02f82d2a0, 0x000001a02f82d2d0, 0x000001a02f82d360, 0x000001a02f82d930, 0x000001a02f82da20, 0x000001a02f82dd20, 0x000001a02f82de40, 0x000001a02f82dfc0, 0x000001a02f82e080, 0x000001a02f82e110, 0x000001a02f82e1d0, 0x000001a02f82e200...
2025-11-13 13:05:33 - INFO -   Sample descriptions: 20 total (12 visual, 8 audio)
2025-11-13 13:05:33 - INFO -   Sample descriptions (full, sorted chronologically):
2025-11-13 13:05:33 - INFO -     1. [0.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94F010>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 2, Groups: 6
2025-11-13 13:05:33 - INFO -     2. [0.0s] [AUDIO] How are we late to giving birth?
2025-11-13 13:05:33 - INFO -     3. [8.0s] [AUDIO] minutes late to our induction but it's okay because it's really at 9 o'clock they just said
2025-11-13 13:05:33 - INFO -     4. [30.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F980EB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 5, Groups: 6
2025-11-13 13:05:33 - INFO -     5. [32.0s] [AUDIO] and we're just gonna pull up to the hospital and just get settled into our room.
2025-11-13 13:05:33 - INFO -     6. [48.0s] [AUDIO] night because obviously I know I was going to get birth today or the next day.
2025-11-13 13:05:33 - INFO -     7. [60.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94F430>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 5, Groups: 6
2025-11-13 13:05:33 - INFO -     8. [90.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94C790>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:05:33 - INFO -     9. [212.0s] [AUDIO] I would say the most scariest part about the induction.
2025-11-13 13:05:33 - INFO -     10. [216.0s] [AUDIO] the induction, or the most nerve-wracking part is like the unknown of not knowing how long
2025-11-13 13:05:33 - INFO -     11. [240.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85E380>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 6, Groups: 6
2025-11-13 13:05:33 - INFO -     12. [270.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85EBC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:05:33 - INFO -     13. [296.0s] [AUDIO] I got some medical rape pumps on the way my gold spectra. We're really gonna show you.
2025-11-13 13:05:33 - INFO -     14. [300.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F907190>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:05:33 - INFO -     15. [316.0s] [AUDIO] Do you want me to record when you're crying? Yes. I'm giving birth.
2025-11-13 13:05:33 - INFO -     16. [330.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85D450>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:05:33 - INFO -     17. [480.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:05:33 - INFO -     18. [510.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:05:33 - INFO -     19. [540.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:05:33 - INFO -     20. [570.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:05:33 - INFO -   Inspection completed in 0.00s
2025-11-13 13:05:33 - INFO - 
[NARRATION] Creating video narrative understanding...
2025-11-13 13:05:41 - INFO -   Video theme: hospital induction for childbirth
2025-11-13 13:05:41 - INFO -   Narrative summary: The video captures the journey of a couple arriving at the hospital for childbirth induction. It hig...
2025-11-13 13:05:41 - INFO -   Narrative structure:
2025-11-13 13:05:41 - INFO -     INTRO: 0x000001a02f82e200, 0x000001a02f82e590
2025-11-13 13:05:41 - INFO -     BODY: 0x000001a02f82e650, 0x000001a02f82e890
2025-11-13 13:05:41 - INFO -     ENDING: 0x000001a02f82f100, 0x000001a02f82f250
2025-11-13 13:05:41 - INFO -   Highlight keywords: 0x000001a02f82e890, 0x000001a02f82f250
2025-11-13 13:05:41 - INFO -   Narrative creation completed in 8.20s
2025-11-13 13:05:41 - INFO - 
[PARALLEL LLM] Starting parallel query generation and semantic analysis...
2025-11-13 13:05:46 - DEBUG - [LLM RESPONSE - Query Gen] ```json
{
    "semantic_queries": [
        "discussion about being late for the induction at the hospital",
        "arriving at the hospital and settling into the room",
        "reflections on the scariest parts of the induction",
        "anxiety surrounding the unknown aspects of the induction ...
2025-11-13 13:05:46 - INFO - [PARALLEL LLM] Both calls completed in 4.82s (parallel execution)
2025-11-13 13:05:46 - INFO - 
[SEARCH PLAN] Generated search queries:
2025-11-13 13:05:46 - INFO -   [INSPECTION] Used segment tree inspection: Yes
2025-11-13 13:05:46 - INFO -   Semantic queries: ['discussion about being late for the induction at the hospital', 'arriving at the hospital and settling into the room', 'reflections on the scariest parts of the induction', 'anxiety surrounding the unknown aspects of the induction process', 'couple discussing their feelings about the induction', 'settling into the hospital room before childbirth']
2025-11-13 13:05:46 - INFO -   Hierarchical keywords: ['induction', 'hospital', 'arrival', 'settling', 'anxiety', 'scary', 'unknown']
2025-11-13 13:05:46 - INFO -   Object classes: ['bed', 'chair', 'clock']
2025-11-13 13:05:46 - INFO -   Activity: hospital induction
2025-11-13 13:05:46 - INFO -   Is general highlight query: True
2025-11-13 13:05:46 - INFO - 
[AGENTIC] Phase 1: Semantic Query Analysis (completed in parallel):
2025-11-13 13:05:46 - INFO -   Query type: AGGREGATE
2025-11-13 13:05:46 - INFO -   Search intent: semantic
2025-11-13 13:05:46 - INFO -   Target entities: {'objects': [], 'activities': [], 'concepts': ['highlight moments']}
2025-11-13 13:05:46 - INFO -   Special handling: {'negation': False, 'temporal': False, 'conditional': False, 'counting': False}
2025-11-13 13:05:46 - INFO -   Reasoning: The query seeks to find significant or noteworthy moments in the video, which aligns with an aggregate search for highlights rather than specific objects or activities.
2025-11-13 13:05:46 - INFO - 
[AGENTIC] Phase 2: Dynamic Strategy Planning...
2025-11-13 13:05:52 - INFO -   Strategy operations: 1
2025-11-13 13:05:52 - INFO -   Post-processing: ['rank_by_relevance']
2025-11-13 13:05:52 - INFO -   Reasoning: This strategy focuses solely on semantic search to find moments that are highlighted, as the query does not require object or activity detection. The emphasis on ranking by relevance ensures that the most pertinent highlights are prioritized.
2025-11-13 13:05:52 - INFO -   Strategy planning completed in 6.57s
2025-11-13 13:05:52 - INFO - 
[VALIDATION] Cross-validating with search plan...
2025-11-13 13:05:52 - INFO - 
[WEIGHT CONFIGURATION]
2025-11-13 13:05:52 - INFO -   Semantic weight: 0.50
2025-11-13 13:05:52 - INFO -   Activity weight: 0.30
2025-11-13 13:05:52 - INFO -   Hierarchical weight: 0.10
2025-11-13 13:05:52 - INFO -   Threshold: 0.50
2025-11-13 13:05:52 - INFO - 
[STEP 2] Executing search with hierarchical tree + semantic search...
2025-11-13 13:05:52 - INFO - [PARALLEL SEARCH] Running all search types in parallel for better performance...
2025-11-13 13:05:52 - INFO - 
  [SEARCH TYPE: General Highlights (Hierarchical Tree)]
2025-11-13 13:05:52 - INFO -       Found 20 highlight candidates
2025-11-13 13:05:52 - INFO - 
  [SEARCH TYPE: Hierarchical Tree (Fast Keyword Lookup)]
2025-11-13 13:05:52 - INFO - 
  [SEARCH TYPE: Semantic Search (Visual + Audio)]
2025-11-13 13:05:52 - INFO -     Keyword: 'induction'
2025-11-13 13:05:52 - INFO -     Query: 'discussion about being late for the induction at the hospital'
2025-11-13 13:05:52 - INFO - 
  [SEARCH TYPE: Object Detection (YOLO)]
2025-11-13 13:05:52 - INFO -       Found 5 leaf node matches
2025-11-13 13:05:52 - INFO - 
  [SEARCH TYPE: Activity Pattern Matching]
2025-11-13 13:05:52 - INFO -     Class: 'bed'
2025-11-13 13:05:52 - INFO -     Keyword: 'hospital'
2025-11-13 13:05:52 - INFO -     Activity: hospital induction
2025-11-13 13:05:52 - INFO -       Found 498 detections
2025-11-13 13:05:52 - INFO -       Found 5 leaf node matches
2025-11-13 13:05:52 - INFO -       Evidence scenes before validation: 0
2025-11-13 13:05:52 - INFO -     Class: 'chair'
2025-11-13 13:05:52 - INFO -     Keyword: 'arrival'
2025-11-13 13:05:52 - INFO -       Evidence scenes after validation: 0
2025-11-13 13:05:52 - INFO -       Found 615 detections
2025-11-13 13:05:52 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:52 - INFO -     Class: 'clock'
2025-11-13 13:05:52 - INFO -     Keyword: 'settling'
2025-11-13 13:05:52 - INFO -       Found 2 detections
2025-11-13 13:05:52 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:52 - INFO -     Keyword: 'anxiety'
2025-11-13 13:05:52 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:52 - INFO -     Keyword: 'scary'
2025-11-13 13:05:52 - INFO -       Found 0 leaf node matches
2025-11-13 13:05:52 - INFO -     Keyword: 'unknown'
2025-11-13 13:05:52 - INFO -       Found 2 leaf node matches
2025-11-13 13:05:52 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:52 - INFO -       Final: 15 matches (took 0.04s, optimized single call)
2025-11-13 13:05:52 - INFO -     Query: 'arriving at the hospital and settling into the room'
2025-11-13 13:05:52 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:52 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:52 - INFO -     Query: 'reflections on the scariest parts of the induction'
2025-11-13 13:05:52 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:52 - INFO -       Final: 15 matches (took 0.02s, optimized single call)
2025-11-13 13:05:52 - INFO -     Query: 'anxiety surrounding the unknown aspects of the induction process'
2025-11-13 13:05:52 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:52 - INFO -       Final: 15 matches (took 0.02s, optimized single call)
2025-11-13 13:05:52 - INFO -     Query: 'couple discussing their feelings about the induction'
2025-11-13 13:05:53 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:53 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:53 - INFO -     Query: 'settling into the hospital room before childbirth'
2025-11-13 13:05:53 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:05:53 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:05:53 - INFO - 
[PARALLEL SEARCH] All searches completed in 0.17s (parallel execution)
2025-11-13 13:05:53 - INFO - [AGGREGATION] Collected results from all search types:
2025-11-13 13:05:53 - INFO -   Total results: 1238
2025-11-13 13:05:53 - INFO - 
[STEP 3] Scoring all seconds with weighted features...
2025-11-13 13:05:53 - INFO -   Total seconds to score: 600
2025-11-13 13:05:53 - INFO - [STEP 3] Scoring completed in 0.17s
2025-11-13 13:05:53 - INFO - 
[ADAPTIVE THRESHOLD] Score distribution analysis:
2025-11-13 13:05:53 - INFO -   Total seconds scored: 600
2025-11-13 13:05:53 - INFO -   Target: top 72 seconds (12.0% of video)
2025-11-13 13:05:53 - INFO -   Score range: 0.000 - 0.535
2025-11-13 13:05:53 - INFO -   Score at position 72: 0.350
2025-11-13 13:05:53 - INFO -   Using adaptive threshold: 0.350 (min from weights: 0.500)
2025-11-13 13:05:53 - INFO - 
[FILTERING] Filtered to 41 seconds above adaptive threshold 0.350
2025-11-13 13:05:53 - INFO -   Top 10 scored seconds:
2025-11-13 13:05:53 - INFO -     1. Second 220: score=0.535 (sem=0.78, act=0.00, obj=0.50, hier=0.00)
2025-11-13 13:05:53 - INFO -     2. Second 212: score=0.526 (sem=0.83, act=0.00, obj=0.27, hier=0.00)
2025-11-13 13:05:53 - INFO -     3. Second 217: score=0.526 (sem=0.83, act=0.00, obj=0.27, hier=0.00)
2025-11-13 13:05:53 - INFO -     4. Second 221: score=0.517 (sem=0.78, act=0.00, obj=0.40, hier=0.00)
2025-11-13 13:05:53 - INFO -     5. Second 219: score=0.506 (sem=0.78, act=0.00, obj=0.33, hier=0.00)
2025-11-13 13:05:53 - INFO -     6. Second 218: score=0.500 (sem=0.78, act=0.00, obj=0.30, hier=0.00)
2025-11-13 13:05:53 - INFO -     7. Second 33: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:53 - INFO -     8. Second 34: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:53 - INFO -     9. Second 35: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:53 - INFO -     10. Second 36: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:05:53 - INFO - 
[AGENTIC] Phase 3: Self-Validation...
2025-11-13 13:05:56 - INFO - 
[STEP 4] Selecting best highlights...
2025-11-13 13:05:56 - INFO -   Selected 41 best seconds (from 41 above threshold)
2025-11-13 13:05:56 - INFO -   Top 10 selected seconds:
2025-11-13 13:05:56 - INFO -     1. Second 212 (212.0s): score=0.526 (sem=0.83)
2025-11-13 13:05:56 - INFO -     2. Second 217 (217.0s): score=0.526 (sem=0.83)
2025-11-13 13:05:56 - INFO -     3. Second 220 (220.0s): score=0.535 (sem=0.78)
2025-11-13 13:05:56 - INFO -     4. Second 221 (221.0s): score=0.517 (sem=0.78)
2025-11-13 13:05:56 - INFO -     5. Second 219 (219.0s): score=0.506 (sem=0.78)
2025-11-13 13:05:56 - INFO -     6. Second 33 (33.0s): score=0.497 (sem=0.81)
2025-11-13 13:05:56 - INFO -     7. Second 34 (34.0s): score=0.497 (sem=0.81)
2025-11-13 13:05:56 - INFO -     8. Second 35 (35.0s): score=0.497 (sem=0.81)
2025-11-13 13:05:56 - INFO -     9. Second 36 (36.0s): score=0.497 (sem=0.81)
2025-11-13 13:05:56 - INFO -     10. Second 37 (37.0s): score=0.497 (sem=0.81)
2025-11-13 13:05:56 - INFO - 
[SELECTION] User intent detection:
2025-11-13 13:05:56 - INFO -   Multiple indicators: True
2025-11-13 13:05:56 - INFO -   Single indicators: False
2025-11-13 13:05:56 - INFO -   Plural 'moments': True
2025-11-13 13:05:56 - INFO -   Singular 'moment': False
2025-11-13 13:05:56 - INFO -   Decision: MULTIPLE results (multiple indicator detected)
2025-11-13 13:05:56 - INFO -   [ACTION] Returning all 41 time ranges
2025-11-13 13:05:56 - INFO - 
[FINAL SELECTION]
2025-11-13 13:05:56 - INFO -   Selected 41 time range(s)
2025-11-13 13:05:56 - INFO -   Confidence: 0.53
2025-11-13 13:05:56 - INFO -   Time ranges:
2025-11-13 13:05:56 - INFO -     1. 212.00s - 213.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     2. 217.00s - 218.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     3. 220.00s - 221.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     4. 221.00s - 222.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     5. 219.00s - 220.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     6. 33.00s - 34.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     7. 34.00s - 35.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     8. 35.00s - 36.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     9. 36.00s - 37.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     10. 37.00s - 38.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     11. 213.00s - 214.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     12. 218.00s - 219.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     13. 216.00s - 217.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     14. 215.00s - 216.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     15. 214.00s - 215.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     16. 32.00s - 33.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     17. 8.00s - 9.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     18. 0.00s - 1.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     19. 1.00s - 2.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     20. 2.00s - 3.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     21. 3.00s - 4.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     22. 4.00s - 5.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     23. 5.00s - 6.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     24. 13.00s - 14.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     25. 9.00s - 10.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     26. 10.00s - 11.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     27. 11.00s - 12.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     28. 12.00s - 13.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     29. 157.00s - 158.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     30. 156.00s - 157.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     31. 7.00s - 8.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     32. 6.00s - 7.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     33. 49.00s - 50.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     34. 325.00s - 326.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     35. 323.00s - 324.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     36. 324.00s - 325.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     37. 401.00s - 402.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     38. 320.00s - 321.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     39. 321.00s - 322.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     40. 248.00s - 249.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO -     41. 253.00s - 254.00s (duration: 1.00s)
2025-11-13 13:05:56 - INFO - 
[CLARIFICATION DECISION] Found 41 results - asking LLM if clarification needed...
2025-11-13 13:05:56 - INFO -   Using video context: theme='hospital induction for childbirth', highlight keywords=['0x000001a02f82e890', '0x000001a02f82f250']
2025-11-13 13:05:58 - INFO -   LLM Decision: Proceed with all results (took 2.39s)
2025-11-13 13:05:58 - INFO -   Reasoning: The query 'find the highlight moments of the video' is clear in the context of the childbirth induction video. The highlights likely refer to key emotional moments during the couple's experience, which can be inferred from the video theme and narrative. The 41 results are reasonable for a highlights query.
2025-11-13 13:05:58 - INFO -   [SUCCESS] User wants all results - proceeding with 41 time range(s)
2025-11-13 13:05:58 - INFO - 
[MERGING] Merging 41 time ranges...
2025-11-13 13:05:58 - INFO -   Before merge: 41 ranges
2025-11-13 13:05:58 - INFO -   After merge: 10 non-overlapping ranges
2025-11-13 13:05:58 - INFO -   Merged ranges with 2.0s padding:
2025-11-13 13:05:58 - INFO -     Range 1: 0.00s - 15.00s (duration: 15.00s)
2025-11-13 13:05:58 - INFO -     Range 2: 31.00s - 39.00s (duration: 8.00s)
2025-11-13 13:05:58 - INFO -     Range 3: 48.00s - 51.00s (duration: 3.00s)
2025-11-13 13:05:58 - INFO -     Range 4: 155.00s - 159.00s (duration: 4.00s)
2025-11-13 13:05:58 - INFO -     Range 5: 211.00s - 223.00s (duration: 12.00s)
2025-11-13 13:05:58 - INFO -     Range 6: 247.00s - 250.00s (duration: 3.00s)
2025-11-13 13:05:58 - INFO -     Range 7: 252.00s - 255.00s (duration: 3.00s)
2025-11-13 13:05:58 - INFO -     Range 8: 319.00s - 323.00s (duration: 4.00s)
2025-11-13 13:05:58 - INFO -     Range 9: 322.00s - 327.00s (duration: 5.00s)
2025-11-13 13:05:58 - INFO -     Range 10: 400.00s - 403.00s (duration: 3.00s)
2025-11-13 13:05:58 - INFO -   Planner found 10 time ranges
2025-11-13 13:05:58 - INFO -   After merging: 9 time ranges
2025-11-13 13:05:58 - INFO -   Total highlight duration: 59.0s (9.8% of video)
2025-11-13 13:05:58 - INFO -     Created chunk 1: timeline 0.0s - 15.0s (source: 0.0s - 15.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 2: timeline 15.0s - 23.0s (source: 31.0s - 39.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 3: timeline 23.0s - 26.0s (source: 48.0s - 51.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 4: timeline 26.0s - 30.0s (source: 155.0s - 159.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 5: timeline 30.0s - 42.0s (source: 211.0s - 223.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 6: timeline 42.0s - 45.0s (source: 247.0s - 250.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 7: timeline 45.0s - 48.0s (source: 252.0s - 255.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 8: timeline 48.0s - 56.0s (source: 319.0s - 327.0s)
2025-11-13 13:05:58 - INFO -     Created chunk 9: timeline 56.0s - 59.0s (source: 400.0s - 403.0s)
2025-11-13 13:05:58 - INFO -   ✓ Created 9 highlight chunks
2025-11-13 13:06:03 - INFO -   Confidence: 0.70
2025-11-13 13:06:03 - INFO -   Valid: False
2025-11-13 13:06:05 - INFO -   → Refining parameters: The threshold has been lowered to allow for the inclusion of shorter highlights that may still be significant. Increasing the max_results parameter will provide a broader selection of highlights, allowing for more context and options to confirm their significance.
2025-11-13 13:06:05 - INFO - 
[SELF-CORRECTION] Iteration 3/3
2025-11-13 13:06:05 - INFO - 
[OPERATION] FIND_HIGHLIGHTS
2025-11-13 13:06:05 - INFO -   Calling planner agent to find highlights...
2025-11-13 13:06:05 - INFO - 
============================================================
2025-11-13 13:06:05 - INFO - PLANNER AGENT: Multi-Modal Search Strategy
2025-11-13 13:06:05 - INFO - ============================================================
2025-11-13 13:06:05 - INFO - Query: find the highlight moments of the video.
2025-11-13 13:06:05 - INFO - 
[INSPECTION] Inspecting segment tree to understand video content...
2025-11-13 13:06:05 - INFO -   Found 100 unique keywords
2025-11-13 13:06:05 - INFO -   Found 33 object classes
2025-11-13 13:06:05 - INFO -   Sample keywords: 0x000001a02f82c070, 0x000001a02f82cb80, 0x000001a02f82d210, 0x000001a02f82d2a0, 0x000001a02f82d2d0, 0x000001a02f82d360, 0x000001a02f82d930, 0x000001a02f82da20, 0x000001a02f82dd20, 0x000001a02f82de40, 0x000001a02f82dfc0, 0x000001a02f82e080, 0x000001a02f82e110, 0x000001a02f82e1d0, 0x000001a02f82e200...
2025-11-13 13:06:05 - INFO -   Sample descriptions: 20 total (12 visual, 8 audio)
2025-11-13 13:06:05 - INFO -   Sample descriptions (full, sorted chronologically):
2025-11-13 13:06:05 - INFO -     1. [0.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94F010>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 2, Groups: 6
2025-11-13 13:06:05 - INFO -     2. [0.0s] [AUDIO] How are we late to giving birth?
2025-11-13 13:06:05 - INFO -     3. [8.0s] [AUDIO] minutes late to our induction but it's okay because it's really at 9 o'clock they just said
2025-11-13 13:06:05 - INFO -     4. [30.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F980EB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 5, Groups: 6
2025-11-13 13:06:05 - INFO -     5. [32.0s] [AUDIO] and we're just gonna pull up to the hospital and just get settled into our room.
2025-11-13 13:06:05 - INFO -     6. [48.0s] [AUDIO] night because obviously I know I was going to get birth today or the next day.
2025-11-13 13:06:05 - INFO -     7. [60.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94F430>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 5, Groups: 6
2025-11-13 13:06:05 - INFO -     8. [90.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F94C790>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:06:05 - INFO -     9. [212.0s] [AUDIO] I would say the most scariest part about the induction.
2025-11-13 13:06:05 - INFO -     10. [216.0s] [AUDIO] the induction, or the most nerve-wracking part is like the unknown of not knowing how long
2025-11-13 13:06:05 - INFO -     11. [240.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85E380>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 6, Groups: 6
2025-11-13 13:06:05 - INFO -     12. [270.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85EBC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:06:05 - INFO -     13. [296.0s] [AUDIO] I got some medical rape pumps on the way my gold spectra. We're really gonna show you.
2025-11-13 13:06:05 - INFO -     14. [300.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F907190>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:06:05 - INFO -     15. [316.0s] [AUDIO] Do you want me to record when you're crying? Yes. I'm giving birth.
2025-11-13 13:06:05 - INFO -     16. [330.0s] [VISUAL] Error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001A02F85D450>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it')) | Detections: Total unique tracks: 4, Groups: 6
2025-11-13 13:06:05 - INFO -     17. [480.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:06:05 - INFO -     18. [510.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:06:05 - INFO -     19. [540.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:06:05 - INFO -     20. [570.0s] [VISUAL] Total unique tracks: 0, Groups: 6
2025-11-13 13:06:05 - INFO -   Inspection completed in 0.00s
2025-11-13 13:06:05 - INFO - 
[NARRATION] Creating video narrative understanding...
2025-11-13 13:06:15 - INFO -   Video theme: hospital induction for childbirth
2025-11-13 13:06:15 - INFO -   Narrative summary: The video captures the experience of arriving at the hospital for childbirth induction, discussing t...
2025-11-13 13:06:15 - INFO -   Narrative structure:
2025-11-13 13:06:15 - INFO -     INTRO: 0x000001a02f82e200, 0x000001a02f82e590
2025-11-13 13:06:15 - INFO -     BODY: 0x000001a02f82e650, 0x000001a02f82e890
2025-11-13 13:06:15 - INFO -     ENDING: 0x000001a02f82f100, 0x000001a02f82f250
2025-11-13 13:06:15 - INFO -   Highlight keywords: 0x000001a02f82e890, 0x000001a02f82f250
2025-11-13 13:06:15 - INFO -   Narrative creation completed in 10.27s
2025-11-13 13:06:15 - INFO - 
[PARALLEL LLM] Starting parallel query generation and semantic analysis...
2025-11-13 13:06:23 - DEBUG - [LLM RESPONSE - Query Gen] ```json
{
    "semantic_queries": [
        "discussion about being late for hospital induction",
        "arriving at the hospital and settling into the room",
        "reflections on the scariest parts of the induction process",
        "anticipation of childbirth during hospital arrival",
       ...
2025-11-13 13:06:23 - INFO - [PARALLEL LLM] Both calls completed in 7.49s (parallel execution)
2025-11-13 13:06:23 - INFO - 
[SEARCH PLAN] Generated search queries:
2025-11-13 13:06:23 - INFO -   [INSPECTION] Used segment tree inspection: Yes
2025-11-13 13:06:23 - INFO -   Semantic queries: ['discussion about being late for hospital induction', 'arriving at the hospital and settling into the room', 'reflections on the scariest parts of the induction process', 'anticipation of childbirth during hospital arrival', 'unknown aspects of childbirth induction', 'emotional discussion about late arrival at the hospital']
2025-11-13 13:06:23 - INFO -   Hierarchical keywords: ['hospital', 'induction', 'arrival', 'settling', 'childbirth', 'scary', 'unknown']
2025-11-13 13:06:23 - INFO -   Object classes: ['bed', 'chair', 'clock']
2025-11-13 13:06:23 - INFO -   Activity: hospital induction
2025-11-13 13:06:23 - INFO -   Is general highlight query: True
2025-11-13 13:06:23 - INFO - 
[AGENTIC] Phase 1: Semantic Query Analysis (completed in parallel):
2025-11-13 13:06:23 - INFO -   Query type: AGGREGATE
2025-11-13 13:06:23 - INFO -   Search intent: semantic
2025-11-13 13:06:23 - INFO -   Target entities: {'objects': [], 'activities': [], 'concepts': ['highlight moments']}
2025-11-13 13:06:23 - INFO -   Special handling: {'negation': False, 'temporal': False, 'conditional': False, 'counting': False}
2025-11-13 13:06:23 - INFO -   Reasoning: The query seeks to find significant or noteworthy moments in the video, which aligns with an aggregate search for highlights rather than specific objects or activities.
2025-11-13 13:06:23 - INFO - 
[AGENTIC] Phase 2: Dynamic Strategy Planning...
2025-11-13 13:06:28 - INFO -   Strategy operations: 1
2025-11-13 13:06:28 - INFO -   Post-processing: ['rank_by_relevance']
2025-11-13 13:06:28 - INFO -   Reasoning: This strategy focuses solely on semantic search to find moments that are highlighted, as the query does not require object or activity detection. The emphasis on ranking by relevance ensures that the most pertinent moments are prioritized.
2025-11-13 13:06:28 - INFO -   Strategy planning completed in 4.90s
2025-11-13 13:06:28 - INFO - 
[VALIDATION] Cross-validating with search plan...
2025-11-13 13:06:28 - INFO - 
[WEIGHT CONFIGURATION]
2025-11-13 13:06:28 - INFO -   Semantic weight: 0.50
2025-11-13 13:06:28 - INFO -   Activity weight: 0.30
2025-11-13 13:06:28 - INFO -   Hierarchical weight: 0.10
2025-11-13 13:06:28 - INFO -   Threshold: 0.50
2025-11-13 13:06:28 - INFO - 
[STEP 2] Executing search with hierarchical tree + semantic search...
2025-11-13 13:06:28 - INFO - [PARALLEL SEARCH] Running all search types in parallel for better performance...
2025-11-13 13:06:28 - INFO - 
  [SEARCH TYPE: General Highlights (Hierarchical Tree)]
2025-11-13 13:06:28 - INFO -       Found 20 highlight candidates
2025-11-13 13:06:28 - INFO - 
  [SEARCH TYPE: Hierarchical Tree (Fast Keyword Lookup)]
2025-11-13 13:06:28 - INFO - 
  [SEARCH TYPE: Semantic Search (Visual + Audio)]
2025-11-13 13:06:28 - INFO -     Keyword: 'hospital'
2025-11-13 13:06:28 - INFO -     Query: 'discussion about being late for hospital induction'
2025-11-13 13:06:28 - INFO -       Found 5 leaf node matches
2025-11-13 13:06:28 - INFO - 
  [SEARCH TYPE: Object Detection (YOLO)]
2025-11-13 13:06:28 - INFO - 
  [SEARCH TYPE: Activity Pattern Matching]
2025-11-13 13:06:28 - INFO -     Keyword: 'induction'
2025-11-13 13:06:28 - INFO -     Class: 'bed'
2025-11-13 13:06:28 - INFO -     Activity: hospital induction
2025-11-13 13:06:28 - INFO -       Found 5 leaf node matches
2025-11-13 13:06:28 - INFO -       Found 498 detections
2025-11-13 13:06:28 - INFO -       Evidence scenes before validation: 0
2025-11-13 13:06:28 - INFO -     Keyword: 'arrival'
2025-11-13 13:06:28 - INFO -     Class: 'chair'
2025-11-13 13:06:28 - INFO -       Evidence scenes after validation: 0
2025-11-13 13:06:28 - INFO -       Found 0 leaf node matches
2025-11-13 13:06:28 - INFO -       Found 615 detections
2025-11-13 13:06:28 - INFO -     Keyword: 'settling'
2025-11-13 13:06:28 - INFO -     Class: 'clock'
2025-11-13 13:06:28 - INFO -       Found 0 leaf node matches
2025-11-13 13:06:28 - INFO -       Found 2 detections
2025-11-13 13:06:28 - INFO -     Keyword: 'childbirth'
2025-11-13 13:06:28 - INFO -       Found 0 leaf node matches
2025-11-13 13:06:28 - INFO -     Keyword: 'scary'
2025-11-13 13:06:28 - INFO -       Found 0 leaf node matches
2025-11-13 13:06:28 - INFO -     Keyword: 'unknown'
2025-11-13 13:06:28 - INFO -       Found 2 leaf node matches
2025-11-13 13:06:28 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:06:28 - INFO -       Final: 15 matches (took 0.04s, optimized single call)
2025-11-13 13:06:28 - INFO -     Query: 'arriving at the hospital and settling into the room'
2025-11-13 13:06:28 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:06:28 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:06:28 - INFO -     Query: 'reflections on the scariest parts of the induction process'
2025-11-13 13:06:28 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:06:28 - INFO -       Final: 15 matches (took 0.03s, optimized single call)
2025-11-13 13:06:28 - INFO -     Query: 'anticipation of childbirth during hospital arrival'
2025-11-13 13:06:28 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:06:28 - INFO -       Final: 15 matches (took 0.04s, optimized single call)
2025-11-13 13:06:28 - INFO -     Query: 'unknown aspects of childbirth induction'
2025-11-13 13:06:28 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:06:28 - INFO -       Final: 15 matches (took 0.04s, optimized single call)
2025-11-13 13:06:28 - INFO -     Query: 'emotional discussion about late arrival at the hospital'
2025-11-13 13:06:28 - INFO -       Using 15 high-quality results (score >= 0.5)
2025-11-13 13:06:28 - INFO -       Final: 15 matches (took 0.02s, optimized single call)
2025-11-13 13:06:28 - INFO - 
[PARALLEL SEARCH] All searches completed in 0.20s (parallel execution)
2025-11-13 13:06:28 - INFO - [AGGREGATION] Collected results from all search types:
2025-11-13 13:06:28 - INFO -   Total results: 1238
2025-11-13 13:06:28 - INFO - 
[STEP 3] Scoring all seconds with weighted features...
2025-11-13 13:06:28 - INFO -   Total seconds to score: 600
2025-11-13 13:06:28 - INFO - [STEP 3] Scoring completed in 0.17s
2025-11-13 13:06:28 - INFO - 
[ADAPTIVE THRESHOLD] Score distribution analysis:
2025-11-13 13:06:28 - INFO -   Total seconds scored: 600
2025-11-13 13:06:28 - INFO -   Target: top 72 seconds (12.0% of video)
2025-11-13 13:06:28 - INFO -   Score range: 0.000 - 0.515
2025-11-13 13:06:28 - INFO -   Score at position 72: 0.350
2025-11-13 13:06:28 - INFO -   Using adaptive threshold: 0.350 (min from weights: 0.500)
2025-11-13 13:06:28 - INFO - 
[FILTERING] Filtered to 51 seconds above adaptive threshold 0.350
2025-11-13 13:06:28 - INFO -   Top 10 scored seconds:
2025-11-13 13:06:28 - INFO -     1. Second 220: score=0.515 (sem=0.75, act=0.00, obj=0.50, hier=0.00)
2025-11-13 13:06:28 - INFO -     2. Second 221: score=0.498 (sem=0.75, act=0.00, obj=0.40, hier=0.00)
2025-11-13 13:06:28 - INFO -     3. Second 33: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:06:28 - INFO -     4. Second 34: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:06:28 - INFO -     5. Second 35: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:06:28 - INFO -     6. Second 36: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:06:28 - INFO -     7. Second 37: score=0.497 (sem=0.81, act=0.00, obj=0.20, hier=0.00)
2025-11-13 13:06:28 - INFO -     8. Second 217: score=0.493 (sem=0.78, act=0.00, obj=0.27, hier=0.00)
2025-11-13 13:06:28 - INFO -     9. Second 212: score=0.493 (sem=0.78, act=0.00, obj=0.27, hier=0.00)
2025-11-13 13:06:28 - INFO -     10. Second 219: score=0.487 (sem=0.75, act=0.00, obj=0.33, hier=0.00)
2025-11-13 13:06:28 - INFO - 
[AGENTIC] Phase 3: Self-Validation...
2025-11-13 13:06:31 - INFO -   [VALIDATION] Issues detected: ['Results do not provide clear highlight moments; they only list seconds with scores.', 'Lack of context or description for the moments listed.']
2025-11-13 13:06:31 - INFO -   [VALIDATION] Suggestions: ['Include descriptions or summaries of the moments at the specified seconds.', 'Provide a more detailed breakdown of highlight moments rather than just timestamps.']
2025-11-13 13:06:31 - INFO - 
[STEP 4] Selecting best highlights...
2025-11-13 13:06:31 - INFO -   Selected 51 best seconds (from 51 above threshold)
2025-11-13 13:06:31 - INFO -   Top 10 selected seconds:
2025-11-13 13:06:31 - INFO -     1. Second 220 (220.0s): score=0.515 (sem=0.75)
2025-11-13 13:06:31 - INFO -     2. Second 33 (33.0s): score=0.497 (sem=0.81)
2025-11-13 13:06:31 - INFO -     3. Second 34 (34.0s): score=0.497 (sem=0.81)
2025-11-13 13:06:31 - INFO -     4. Second 35 (35.0s): score=0.497 (sem=0.81)
2025-11-13 13:06:31 - INFO -     5. Second 36 (36.0s): score=0.497 (sem=0.81)
2025-11-13 13:06:31 - INFO -     6. Second 37 (37.0s): score=0.497 (sem=0.81)
2025-11-13 13:06:31 - INFO -     7. Second 217 (217.0s): score=0.493 (sem=0.78)
2025-11-13 13:06:31 - INFO -     8. Second 212 (212.0s): score=0.493 (sem=0.78)
2025-11-13 13:06:31 - INFO -     9. Second 221 (221.0s): score=0.498 (sem=0.75)
2025-11-13 13:06:31 - INFO -     10. Second 219 (219.0s): score=0.487 (sem=0.75)
2025-11-13 13:06:31 - INFO - 
[SELECTION] User intent detection:
2025-11-13 13:06:31 - INFO -   Multiple indicators: True
2025-11-13 13:06:31 - INFO -   Single indicators: False
2025-11-13 13:06:31 - INFO -   Plural 'moments': True
2025-11-13 13:06:31 - INFO -   Singular 'moment': False
2025-11-13 13:06:31 - INFO -   Decision: MULTIPLE results (multiple indicator detected)
2025-11-13 13:06:31 - INFO -   [ACTION] Returning all 51 time ranges
2025-11-13 13:06:31 - INFO - 
[FINAL SELECTION]
2025-11-13 13:06:31 - INFO -   Selected 51 time range(s)
2025-11-13 13:06:31 - INFO -   Confidence: 0.52
2025-11-13 13:06:31 - INFO -   Time ranges:
2025-11-13 13:06:31 - INFO -     1. 220.00s - 221.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     2. 33.00s - 34.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     3. 34.00s - 35.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     4. 35.00s - 36.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     5. 36.00s - 37.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     6. 37.00s - 38.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     7. 217.00s - 218.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     8. 212.00s - 213.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     9. 221.00s - 222.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     10. 219.00s - 220.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     11. 32.00s - 33.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     12. 218.00s - 219.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     13. 213.00s - 214.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     14. 216.00s - 217.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     15. 215.00s - 216.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     16. 214.00s - 215.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     17. 325.00s - 326.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     18. 0.00s - 1.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     19. 1.00s - 2.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     20. 2.00s - 3.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     21. 3.00s - 4.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     22. 4.00s - 5.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     23. 5.00s - 6.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     24. 323.00s - 324.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     25. 324.00s - 325.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     26. 320.00s - 321.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     27. 321.00s - 322.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     28. 322.00s - 323.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     29. 49.00s - 50.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     30. 157.00s - 158.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     31. 156.00s - 157.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     32. 8.00s - 9.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     33. 13.00s - 14.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     34. 9.00s - 10.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     35. 10.00s - 11.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     36. 11.00s - 12.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     37. 12.00s - 13.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     38. 7.00s - 8.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     39. 48.00s - 49.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     40. 6.00s - 7.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     41. 317.00s - 318.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     42. 52.00s - 53.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     43. 316.00s - 317.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     44. 241.00s - 242.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     45. 383.00s - 384.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     46. 248.00s - 249.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     47. 253.00s - 254.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     48. 240.00s - 241.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     49. 249.00s - 250.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     50. 252.00s - 253.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO -     51. 257.00s - 258.00s (duration: 1.00s)
2025-11-13 13:06:31 - INFO - 
[CLARIFICATION DECISION] Found 51 results - asking LLM if clarification needed...
2025-11-13 13:06:31 - INFO -   Using video context: theme='hospital induction for childbirth', highlight keywords=['0x000001a02f82e890', '0x000001a02f82f250']
2025-11-13 13:06:34 - INFO -   LLM Decision: Proceed with all results (took 2.47s)
2025-11-13 13:06:34 - INFO -   Reasoning: The query 'find the highlight moments of the video' is clear in the context of the childbirth induction video. The highlights likely refer to key emotional and significant moments during the hospital induction process, which aligns with the video theme. Given that 51 results can reasonably represent highlight moments, it is appropriate to proceed without clarification.
2025-11-13 13:06:34 - INFO -   [SUCCESS] User wants all results - proceeding with 51 time range(s)
2025-11-13 13:06:34 - INFO - 
[MERGING] Merging 51 time ranges...
2025-11-13 13:06:34 - INFO -   Before merge: 51 ranges
2025-11-13 13:06:34 - INFO -   After merge: 13 non-overlapping ranges
2025-11-13 13:06:34 - INFO -   Merged ranges with 2.0s padding:
2025-11-13 13:06:34 - INFO -     Range 1: 0.00s - 15.00s (duration: 15.00s)
2025-11-13 13:06:34 - INFO -     Range 2: 31.00s - 39.00s (duration: 8.00s)
2025-11-13 13:06:34 - INFO -     Range 3: 47.00s - 51.00s (duration: 4.00s)
2025-11-13 13:06:34 - INFO -     Range 4: 51.00s - 54.00s (duration: 3.00s)
2025-11-13 13:06:34 - INFO -     Range 5: 155.00s - 159.00s (duration: 4.00s)
2025-11-13 13:06:34 - INFO -     Range 6: 211.00s - 223.00s (duration: 12.00s)
2025-11-13 13:06:34 - INFO -     Range 7: 239.00s - 243.00s (duration: 4.00s)
2025-11-13 13:06:34 - INFO -     Range 8: 247.00s - 251.00s (duration: 4.00s)
2025-11-13 13:06:34 - INFO -     Range 9: 251.00s - 255.00s (duration: 4.00s)
2025-11-13 13:06:34 - INFO -     Range 10: 256.00s - 259.00s (duration: 3.00s)
2025-11-13 13:06:34 - INFO -     Range 11: 315.00s - 319.00s (duration: 4.00s)
2025-11-13 13:06:34 - INFO -     Range 12: 319.00s - 327.00s (duration: 8.00s)
2025-11-13 13:06:34 - INFO -     Range 13: 382.00s - 385.00s (duration: 3.00s)
2025-11-13 13:06:34 - INFO -   Planner found 13 time ranges
2025-11-13 13:06:34 - INFO -   After merging: 9 time ranges
2025-11-13 13:06:34 - INFO -   Total highlight duration: 77.0s (12.8% of video)
2025-11-13 13:06:34 - INFO -     Created chunk 1: timeline 0.0s - 15.0s (source: 0.0s - 15.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 2: timeline 15.0s - 23.0s (source: 31.0s - 39.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 3: timeline 23.0s - 30.0s (source: 47.0s - 54.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 4: timeline 30.0s - 34.0s (source: 155.0s - 159.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 5: timeline 34.0s - 46.0s (source: 211.0s - 223.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 6: timeline 46.0s - 50.0s (source: 239.0s - 243.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 7: timeline 50.0s - 62.0s (source: 247.0s - 259.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 8: timeline 62.0s - 74.0s (source: 315.0s - 327.0s)
2025-11-13 13:06:34 - INFO -     Created chunk 9: timeline 74.0s - 77.0s (source: 382.0s - 385.0s)
2025-11-13 13:06:34 - INFO -   ✓ Created 9 highlight chunks
2025-11-13 13:06:38 - INFO -   Confidence: 0.70
2025-11-13 13:06:38 - INFO -   Valid: False
2025-11-13 13:06:38 - INFO -   → Max iterations reached
2025-11-13 13:06:38 - INFO - 
[SELF-CORRECTION] Returning best result from iteration 1 (confidence: 0.70)
2025-11-13 13:06:38 - INFO - 
[SAVED] Timeline updated and saved to C:\Users\Khage\Data\projects\bg\timeline.json
2025-11-13 13:06:38 - INFO - 
================================================================================
2025-11-13 13:06:38 - INFO - ORCHESTRATOR RESULTS
2025-11-13 13:06:38 - INFO - ================================================================================
2025-11-13 13:06:38 - INFO - Operation: FIND_HIGHLIGHTS
2025-11-13 13:06:38 - INFO - Status: ✓ Success
2025-11-13 13:06:38 - INFO - Chunks created: 6
2025-11-13 13:06:38 - INFO - Timeline now has 9 chunks
2025-11-13 13:06:38 - INFO - Total duration: 76.99s
2025-11-13 13:06:38 - INFO - 
--------------------------------------------------------------------------------
2025-11-13 13:06:38 - INFO - ORCHESTRATOR RESULTS
2025-11-13 13:06:38 - INFO - --------------------------------------------------------------------------------
2025-11-13 13:06:38 - INFO - Operation: FIND_HIGHLIGHTS
2025-11-13 13:06:38 - INFO - Success: True
2025-11-13 13:06:38 - INFO - Timeline chunks after operation: 9
2025-11-13 13:06:38 - INFO - Operation result keys: ['success', 'chunks_created', 'time_ranges', 'iterations', 'self_corrected', 'final_confidence', 'max_iterations_reached', 'transaction']
2025-11-13 13:06:38 - INFO -   Chunks created: 6
2025-11-13 13:06:38 - INFO - FIND_HIGHLIGHTS: Created 6 chunks
2025-11-13 13:06:38 - DEBUG -   Chunk 1: source=0.0s-11.0s, timeline=0.0s-11.0s
2025-11-13 13:06:38 - DEBUG -   Chunk 2: source=31.0s-39.0s, timeline=11.0s-19.0s
2025-11-13 13:06:38 - DEBUG -   Chunk 3: source=155.0s-159.0s, timeline=19.0s-23.0s
2025-11-13 13:06:38 - DEBUG -   Chunk 4: source=211.0s-223.0s, timeline=23.0s-35.0s
2025-11-13 13:06:38 - DEBUG -   Chunk 5: source=251.0s-259.0s, timeline=35.0s-43.0s
2025-11-13 13:06:38 - DEBUG -   Chunk 6: source=287.0s-294.0s, timeline=43.0s-50.0s
2025-11-13 13:06:38 - INFO - Response message: Found and added 6 clip(s) to timeline:
  1. 0.0s - 11.0s
  2. 31.0s - 39.0s
  3. 155.0s - 159.0s
  4...
2025-11-13 13:06:38 - INFO - 
--------------------------------------------------------------------------------
2025-11-13 13:06:38 - INFO - UPDATING TIMELINE UI
2025-11-13 13:06:38 - INFO - --------------------------------------------------------------------------------
2025-11-13 13:06:38 - INFO - Timeline chunks to display: 9
2025-11-13 13:06:38 - INFO - 
--------------------------------------------------------------------------------
2025-11-13 13:06:38 - INFO - Reloading timeline from file...
2025-11-13 13:06:38 - INFO - UPDATING CHAT UI
2025-11-13 13:06:38 - INFO - --------------------------------------------------------------------------------
2025-11-13 13:06:38 - INFO - Timeline loaded: 9 chunks
2025-11-13 13:06:38 - INFO - Drawing timeline on canvas...
2025-11-13 13:06:38 - INFO - Timeline canvas updated
2025-11-13 13:06:38 - INFO - Updating UI button states...
2025-11-13 13:06:38 - INFO - [VIDSOR] Timeline updated: 9 chunks
2025-11-13 13:06:38 - INFO - Chat UI update scheduled
2025-11-13 13:06:38 - INFO - 
================================================================================
2025-11-13 13:06:38 - INFO - QUERY PROCESSING COMPLETED
2025-11-13 13:06:38 - INFO - ================================================================================
2025-11-13 13:06:38 - INFO - Agent thread completed
